package com.ydl.nmis.schedule.mapper;

import com.ydl.nmis.schedule.dto.Member;
import com.ydl.nmis.schedule.dto.ScheGroup;
import com.ydl.nmis.schedule.dto.MemberDayDataDTO;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;

import java.util.List;

@Mapper
public interface ScheWeekDetail {
    /**
     * 查询基础组信息
     */
    List<ScheGroup> selectBaseGroups();

    // 在ScheWeekDetail接口中添加
    @Select("SELECT " +
            "a.nurse_id as id, " +
            "a.name, " +
            "a.nurse_id as sNo, " +
            "a.nurse_level as nj, " +
            "a.enter_date as workYear, " +
            "b.remark as memo " +
            "FROM nmis.nmis_hr_user a " +
            "LEFT JOIN nmis.nmis_sche_detail b ON a.nurse_id = b.nurse_id " +
            "WHERE b.plan_id = #{groupId}")
    List<Member> selectMembersByGroupId(Integer groupId);
    /**
     * 查询成员每日排班数据
     */
    List<MemberDayDataDTO> selectMemberDayData();
}